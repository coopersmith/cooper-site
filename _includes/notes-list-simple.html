<!-- Simplified Notes List Component for Debugging -->
{% assign notes = include.notes | default: site.notes %}
{% assign limit = include.limit | default: 10 %}
{% assign exclude_path = include.exclude_path %}

{% if include.title %}
  <div class="notes-list__header">
    <h2 class="notes-list__title">{{ include.title }}</h2>
    {% if include.subtitle %}
      <p class="notes-list__subtitle">{{ include.subtitle }}</p>
    {% endif %}
  </div>
{% endif %}

<div class="notes-list">
  {% assign filtered_notes = notes %}
  
  {% comment %} Apply path exclusion filter {% endcomment %}
  {% if exclude_path %}
    {% assign temp_notes = "" | split: "" %}
    {% for note in filtered_notes %}
      {% unless note.path contains exclude_path %}
        {% assign temp_notes = temp_notes | push: note %}
      {% endunless %}
    {% endfor %}
    {% assign filtered_notes = temp_notes %}
  {% endif %}
  
  {% comment %} Sort by last modified {% endcomment %}
  {% assign sorted_notes = filtered_notes | sort: "last_modified_at_timestamp" | reverse %}
  
  {% for note in sorted_notes limit: limit %}
    <article class="notes-list__item">
      {% if note.last_modified_at %}
        <time class="notes-list__date" datetime="{{ note.last_modified_at | date_to_xmlschema }}">
          {{ note.last_modified_at | date: "%Y-%m-%d" }}
        </time>
      {% endif %}

      <div class="notes-list__content">
        <h3 class="notes-list__title">
          <a href="{{ site.baseurl }}{{ note.url }}" class="notes-list__link">
            {{ note.title }}
            {% if note.featured %}
              <svg class="notes-list__star" width="14" height="14" viewBox="0 0 16 16" fill="currentColor">
                <path d="M8 0l2.4 4.8L16 5.6l-4 3.9.9 5.3L8 12.4 3.1 14.8 4 9.5 0 5.6l5.6-.8L8 0z"/>
              </svg>
            {% endif %}
          </a>
        </h3>

        {% if note.tags and note.tags.size > 0 %}
          <div class="notes-list__tags">
            {% for tag in note.tags limit: 3 %}
              <span class="notes-list__tag">{{ tag }}</span>
            {% endfor %}
            {% if note.tags.size > 3 %}
              <span class="notes-list__tag notes-list__tag--more">+{{ note.tags.size | minus: 3 }}</span>
            {% endif %}
          </div>
        {% endif %}
      </div>
    </article>
  {% endfor %}
</div>

{% if include.show_more_link %}
  <div class="notes-list__footer">
    <a href="{{ include.show_more_link }}" class="notes-list__more-link">
      View all {{ include.show_more_text | default: "notes" }} â†’
    </a>
  </div>
{% endif %}